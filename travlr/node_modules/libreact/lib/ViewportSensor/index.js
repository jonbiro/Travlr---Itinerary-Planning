"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var util_1 = require("../util");
var ViewportObserverSensor_1 = require("../ViewportObserverSensor");
var loadable_1 = require("../loadable");
var faccToHoc_1 = tslib_1.__importStar(require("../util/faccToHoc"));
var Sensor = ViewportObserverSensor_1.ViewportObserverSensor;
if (typeof window === 'object') {
    if (!window.IntersectionObserver) {
        var loader = function () { return Promise.resolve().then(function () { return tslib_1.__importStar(require('../ViewportScrollSensor')); }).then(function (module) { return module.ViewportScrollSensor; }); };
        Sensor = loadable_1.loadable({ loader: loader });
        Sensor.load();
    }
}
exports.ViewportSensor = function (props) {
    return util_1.h(Sensor, props);
};
var wrapper = function (Comp, propName, props, state) {
    return faccToHoc_1.divWrapper(Comp, propName || 'viewport', props, state.visible);
};
exports.withViewport = faccToHoc_1.default(exports.ViewportSensor, 'viewport', wrapper);
//# sourceMappingURL=index.js.map
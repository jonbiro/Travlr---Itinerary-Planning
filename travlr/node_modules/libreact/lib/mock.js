"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var react_1 = require("react");
exports.mock = function (_a) {
    var _b = (_a === void 0 ? {} : _a).loading, loading = _b === void 0 ? null : _b;
    var Comp;
    var cnt = 0;
    var instances = {};
    var Mock = (function (_super) {
        tslib_1.__extends(Mock, _super);
        function Mock(props, context) {
            var _this = _super.call(this, props, context) || this;
            _this.mockId = cnt++;
            instances[_this.mockId] = _this;
            return _this;
        }
        Mock.prototype.componentWillUnmount = function () {
            delete instances[this.mockId];
        };
        Mock.prototype.render = function () {
            return Comp ? react_1.createElement(Comp, this.props) : (typeof loading === 'function' ? react_1.createElement(loading, this.props) : loading);
        };
        return Mock;
    }(react_1.Component));
    Mock.implement = function (Implementation) {
        Comp = Implementation;
        for (var id in instances) {
            instances[id].forceUpdate();
        }
    };
    return Mock;
};
//# sourceMappingURL=mock.js.map
/* global google */
var clearChildren = function (node) {
    if (node) {
        while (node.firstChild) {
            node.removeChild(node.firstChild);
        }
    }
};
var getMapInstanceId = function (id) {
    return "google-map-" + id;
};
var getHiddenMapContainer = function (id) {
    var hiddenMapContainer = "hidden-container-" + id;
    var element = document.getElementById(hiddenMapContainer);
    if (!element) {
        element = document.createElement('div');
        element.id = hiddenMapContainer;
        element.style.display = 'none';
        document.body.appendChild(element);
    }
    return element;
};
export var restoreInstance = function (_a) {
    var id = _a.id, zoom = _a.zoom, center = _a.center, mapContainerStyle = _a.mapContainerStyle, options = _a.options;
    var map = window[getMapInstanceId(id)];
    var hiddenContainer = getHiddenMapContainer(id);
    if (map && hiddenContainer.children.length === 1) {
        map.setZoom(zoom);
        map.setCenter(center);
        map.setOptions(options);
        var mapContainer_1 = document.getElementById(id);
        clearChildren(mapContainer_1);
        mapContainer_1.appendChild(hiddenContainer.children[0]);
        // Copy mapContainerStyle to mapContainer
        Object.keys(mapContainerStyle).forEach(function (styleKey) {
            mapContainer_1.style[styleKey] = mapContainerStyle[styleKey];
        });
        return map;
    }
};
export var saveInstance = function (id, map) {
    var hiddenContainer = getHiddenMapContainer(id);
    clearChildren(hiddenContainer);
    var mapContainer = document.getElementById(id);
    hiddenContainer.appendChild(mapContainer.children[0]);
    window[getMapInstanceId(id)] = map;
};
//# sourceMappingURL=instance-persistance.js.map